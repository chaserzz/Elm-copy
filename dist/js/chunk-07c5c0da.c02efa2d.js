(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07c5c0da"],{"0c8e":function(t,e,s){},"0e06":function(t,e,s){},"0edb":function(t,e,s){},"1d7a":function(t,e,s){"use strict";var a=s("0e06"),i=s.n(a);i.a},2296:function(t,e,s){},"26aa":function(t,e,s){"use strict";var a=s("0edb"),i=s.n(a);i.a},"2aa8":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alet_container"},[s("section",{staticClass:"tip_text_container"},[t._m(0),s("p",{staticClass:"tip_text"},[t._v(t._s(t.alertText))]),s("div",{staticClass:"confrim",on:{click:t.closeTip}},[t._v("确认")])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip_icon"},[s("span"),s("span")])}],n={data:function(){return{positionY:0,timer:null}},mounted:function(){},props:["alertText"],methods:{closeTip:function(){this.$emit("closeTip")}}},r=n,o=(s("3f82"),s("2877")),c=Object(o["a"])(r,a,i,!1,null,"0a37f2ab",null);e["a"]=c.exports},"3f82":function(t,e,s){"use strict";var a=s("0c8e"),i=s.n(a);i.a},4499:function(t,e,s){},"4d93":function(t,e,s){},5769:function(t,e,s){"use strict";var a=s("af38"),i=s.n(a);i.a},"5c9b":function(t,e,s){},"7fae":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar"},[s("div",{staticClass:"left"},[t._t("left")],2),s("div",{staticClass:"center"},[t._t("center")],2),s("div",{staticClass:"right"},[t._t("right")],2)])},i=[],n={name:"NavBar",components:{},data:function(){return{}},computed:{},methods:{}},r=n,o=(s("1d7a"),s("2877")),c=Object(o["a"])(r,a,i,!1,null,"01cafe69",null);e["a"]=c.exports},"81eb":function(t,e,s){},"8a76":function(t,e,s){"use strict";var a=s("81eb"),i=s.n(a);i.a},"8da8":function(t,e,s){"use strict";var a=s("5c9b"),i=s.n(a);i.a},"95d6":function(t,e,s){},a881:function(t,e,s){"use strict";var a=s("4499"),i=s.n(a);i.a},af38:function(t,e,s){},c3b0:function(t,e,s){"use strict";var a=s("4d93"),i=s.n(a);i.a},d4e8:function(t,e,s){"use strict";var a=s("95d6"),i=s.n(a);i.a},d869:function(t,e,s){"use strict";var a=s("2296"),i=s.n(a);i.a},f934:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"confirmOrder"},[s("confirm-order-nav-bar"),s("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3}},[s("confirm-address",{on:{addressClick:t.addressChoose}}),s("confirm-deliver",{attrs:{time:t.deliverTime}}),s("confirm-pay-way"),s("confirm-info",{attrs:{"food-list":t.cartList,"deliver-fee":t.deliverFee,"box-fee":t.boxFee,"shop-info":t.shopInfo}}),s("confirm-remark-info",{attrs:{"remark-info":t.remarkInfo}}),s("div",{staticClass:"block"})],1),s("confirm-bottom-bar",{staticClass:"bottomBar",on:{payFor:t.goPay}}),t.showAlert?s("alert-tip",{attrs:{showHide:t.showAlert,alertText:t.alertText},on:{closeTip:t.closeTip}}):t._e()],1)},i=[],n=(s("b0c0"),s("a9e3"),s("b85c")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-bar",{staticClass:"navBar"},[s("div",{staticClass:"left",attrs:{slot:"left"},on:{click:function(e){return t.goBack()}},slot:"left"},[s("svg",{staticClass:"icon",attrs:{t:"1594982764660",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2066",width:"18",height:"18"}},[s("path",{attrs:{d:"M256 512l512 512 0-135.776-376.224-376.224 376.224-376.256 0-135.745z","p-id":"2067",fill:"#ffffff"}})])]),s("div",{staticClass:"center",attrs:{slot:"center"},slot:"center"},[s("span",[t._v("确认订单")])]),s("div",{staticClass:"right",attrs:{slot:"right"},on:{click:function(e){return t.goRegister()}},slot:"right"},[s("svg",{staticClass:"icon person",attrs:{t:"1596000470929",width:"28",height:"28",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2905"}},[s("path",{attrs:{d:"M512 542.492444a214.471111 214.471111 0 0 1-214.357333-214.357333A214.471111 214.471111 0 0 1 512 113.777778a214.471111 214.471111 0 0 1 214.357333 214.357333A214.471111 214.471111 0 0 1 512 542.492444zM512 159.288889a168.789333 168.789333 0 0 0-168.846222 168.846222A168.789333 168.789333 0 0 0 512 496.981333a168.789333 168.789333 0 0 0 168.846222-168.846222A168.789333 168.789333 0 0 0 512 159.288889z",fill:"#fff","p-id":"2906"}}),s("path",{attrs:{d:"M830.577778 874.723556a22.528 22.528 0 0 1-22.755556-22.755556c0-163.384889-132.892444-295.822222-295.822222-295.822222a296.391111 296.391111 0 0 0-295.822222 295.822222c0 12.743111-10.012444 22.755556-22.755556 22.755556a22.528 22.528 0 0 1-22.755555-22.755556c0-188.416 153.372444-341.333333 341.333333-341.333333 188.416 0 341.333333 153.372444 341.333333 341.333333 0 12.288-10.012444 22.755556-22.755555 22.755556z",fill:"#fff","p-id":"2907"}})])])])],1)},o=[],c=s("7fae"),l={name:"confirmOrderNavBar",components:{NavBar:c["a"]},data:function(){return{}},computed:{},methods:{goBack:function(){this.$router.go(-1)},goRegister:function(){this.$router.push({path:"/register"})}}},f=l,u=(s("8da8"),s("2877")),d=Object(u["a"])(f,r,o,!1,null,"30b90d12",null),p=d.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address_container",on:{click:function(e){return t.addressClick()}}},[s("section",[s("svg",{staticClass:"icon",attrs:{t:"1602040453376",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3353",width:"1.8rem",height:"1.8rem"}},[s("path",{attrs:{d:"M512 106.666667c152.917333 0 277.333333 124.416 277.333333 277.333333 0 114.282667-172.032 382.058667-277.333333 519.808C406.698667 766.058667 234.666667 498.282667 234.666667 384c0-152.917333 124.416-277.333333 277.333333-277.333333m0-64C323.477333 42.666667 170.666667 195.477333 170.666667 384c0 152.085333 222.144 472.96 308.010666 581.205333 8.533333 10.752 20.928 16.128 33.322667 16.128s24.789333-5.376 33.322667-16.128C631.189333 856.96 853.333333 536.085333 853.333333 384c0-188.522667-152.810667-341.333333-341.333333-341.333333z",fill:"#3190E8","p-id":"3354"}}),s("path",{attrs:{d:"M512 341.333333c23.530667 0 42.666667 19.136 42.666667 42.666667s-19.136 42.666667-42.666667 42.666667-42.666667-19.136-42.666667-42.666667 19.136-42.666667 42.666667-42.666667m0-64a106.666667 106.666667 0 1 0 0.021333 213.354667A106.666667 106.666667 0 0 0 512 277.333333z",fill:"#3190E8","p-id":"3355"}})]),s("p",[t._v("请选择配送地址")])])])},m=[],v={name:"confirmAddress",components:{},data:function(){return{}},computed:{},methods:{addressClick:function(){this.$emit("addressClick")}}},_=v,g=(s("8a76"),Object(u["a"])(_,h,m,!1,null,"6ed5c21e",null)),C=g.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deliver_model"},[s("p",{staticClass:"deliver_text"},[t._v("送达时间")]),s("section",{staticClass:"deliver_time"},[s("p",{staticClass:"time"},[t._v("尽快送达 | 预计 "+t._s(t.deliverTime))]),s("p",{staticClass:"model"},[t._v("蜂鸟专送")])])])},w=[],k={name:"confirmDeliver",props:{time:{type:Number,default:30}},data:function(){return{}},computed:{deliverTime:function(){var t=new Date,e=t.getMinutes();t.setMinutes(e+this.time);var s=t.toLocaleString("chinese",{hour12:!1}),a=s.substring(10,15);return a}},methods:{},mounted:function(){}},I=k,x=(s("c3b0"),Object(u["a"])(I,b,w,!1,null,"39e5dd32",null)),y=x.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payWay"},[s("p",{staticClass:"way_container"},[s("span",{staticClass:"title"},[t._v("支付方式")]),t._v(" "),s("span",{staticClass:"way"},[t._v("在线支付 ")]),s("b",{staticClass:"hidden",on:{click:t.choosePayWay}}),s("svg",{staticClass:"icon",attrs:{t:"1601258741171",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3236",width:".6rem",height:".6rem"}},[s("path",{attrs:{d:"M719.969 493.984L298.307 72.323c-9.417-9.418-23.192-10.912-30.767-3.337-7.575 7.574-6.08 21.349 3.337 30.767l411.91 411.908-412.412 412.408c-9.418 9.418-10.912 23.194-3.337 30.769 7.574 7.575 21.35 6.08 30.767-3.337l421.663-421.663a29.523 29.523 0 0 0 4.589-5.937c6.68-7.718 4.994-20.835-4.088-29.917z",fill:"#272536","p-id":"3237"}})])]),t._m(0)])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"redPocket"},[s("span",[t._v("红包")]),t._v(" "),s("span",[t._v("暂时只在饿了么APP中支持")])])}],T={name:"confirmPayWay",components:{},data:function(){return{}},computed:{},methods:{choosePayWay:function(){}}},j=T,B=(s("d869"),Object(u["a"])(j,$,O,!1,null,"5051d90b",null)),P=B.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"confirmInfo"},[t.shopInfo?s("section",{staticClass:"shopInfo"},[s("img",{staticClass:"shopImg",attrs:{src:t.shopInfo.image_path,alt:""}}),s("p",[t._v(t._s(t.shopInfo.name))])]):t._e(),s("section",{staticClass:"foodInfo"},[s("ul",[t._l(t.foodList,(function(e,a){return s("li",{key:a,staticClass:"foodItem"},[s("section",[s("p",{staticClass:"foodTitle "},[s("span",[t._v(t._s(e.name))]),s("span",{directives:[{name:"show",rawName:"v-show",value:""!==e.specs,expression:'item.specs !== ""'}],staticClass:"foodSpce"},[t._v("-"+t._s(e.specs)+" ")])]),s("span",{staticClass:"foodnum"},[t._v("× "+t._s(e.num))]),s("span",{staticClass:"foodprice"},[t._v("￥"+t._s(e.price))])])])})),s("li",{staticClass:"foodItem"},[s("section",[s("span",{staticClass:"foodTitle"},[t._v("餐盒")]),s("span",{staticClass:"foodprice"},[t._v("￥"+t._s(t.boxFee))])])]),s("li",{staticClass:"foodItem end_of_singal"},[s("section",[s("span",{staticClass:"foodTitle"},[t._v("配送费")]),s("span",{staticClass:"foodprice"},[t._v("￥"+t._s(t.deliverFee))])])]),t._m(0),s("li",{staticClass:"foodItem"},[s("section",[s("span",{staticClass:"foodprice price"},[t._v("￥"+t._s(t.totalPrice))])])])],2)])])},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"foodItem "},[s("section",[s("span",{staticClass:"foodTitle"},[t._v("订单")]),s("span",{staticClass:"foodprice price"},[t._v("待支付")])])])}],F=s("90b9"),L={name:"confirmInfo",props:{shopInfo:{type:Object,default:function(){return null}},foodList:{type:Array,default:function(){return[]}},deliverFee:{type:Number,default:4},boxFee:{type:Number,default:1e3}},components:{},data:function(){return{}},computed:{totalPrice:function(){var t,e=0,s=Object(n["a"])(this.foodList);try{for(s.s();!(t=s.n()).done;){var a=t.value;e+=a.price*a.num}}catch(i){s.e(i)}finally{s.f()}return e=e+this.boxFee+this.deliverFee,this.$store.commit("settotalprice",e),e}},methods:{}},M=L,N=(s("d4e8"),Object(u["a"])(M,A,E,!1,null,"2d641b8a",null)),z=N.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("p",{staticClass:"remarkInfo"},[s("span",{staticClass:"left title"},[t._v("订单备注")]),s("span",{staticClass:"right",on:{click:function(e){return t.goRemark()}}},[t._v(t._s(t.remarkInfo)+" ")]),s("svg",{staticClass:"icon",attrs:{t:"1601258741171",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3236",width:".6rem",height:".6rem"}},[s("path",{attrs:{d:"M719.969 493.984L298.307 72.323c-9.417-9.418-23.192-10.912-30.767-3.337-7.575 7.574-6.08 21.349 3.337 30.767l411.91 411.908-412.412 412.408c-9.418 9.418-10.912 23.194-3.337 30.769 7.574 7.575 21.35 6.08 30.767-3.337l421.663-421.663a29.523 29.523 0 0 0 4.589-5.937c6.68-7.718 4.994-20.835-4.088-29.917z",fill:"#272536","p-id":"3237"}})])]),s("p",{staticClass:"service"},[s("span",{staticClass:"left"},[t._v("发票抬头")]),s("span",{staticClass:"right",on:{click:function(e){return t.goInvoice()}}},[t._v("不需要开发票 ")]),s("svg",{staticClass:"icon",attrs:{t:"1601258741171",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3236",width:".6rem",height:".6rem"}},[s("path",{attrs:{d:"M719.969 493.984L298.307 72.323c-9.417-9.418-23.192-10.912-30.767-3.337-7.575 7.574-6.08 21.349 3.337 30.767l411.91 411.908-412.412 412.408c-9.418 9.418-10.912 23.194-3.337 30.769 7.574 7.575 21.35 6.08 30.767-3.337l421.663-421.663a29.523 29.523 0 0 0 4.589-5.937c6.68-7.718 4.994-20.835-4.088-29.917z",fill:"#272536","p-id":"3237"}})])])])},S=[],D={name:"confirmRemarkInfo",props:{remarkInfo:{type:String,default:function(){return"口味,偏好等 "}}},data:function(){return{}},computed:{},methods:{goRemark:function(){this.$router.push({path:"/remark"})},goInvoice:function(){this.$router.push({path:"/invoice"})}}},W=D,J=(s("5769"),Object(u["a"])(W,R,S,!1,null,"80debce0",null)),q=J.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom_bar"},[s("section",{staticClass:"totalPrice"},[s("span",[t._v(" 待支付￥"+t._s(t.totalPrice)+" ")])]),s("section",{staticClass:"confirm",on:{click:function(e){return t.goPay()}}},[s("span",[t._v("确认下单")])])])},Y=[],G={name:"confirmBottomBar",computed:{totalPrice:function(){return this.$store.state.totalprice}},methods:{goPay:function(){this.$emit("payFor")}}},K=G,Q=(s("26aa"),Object(u["a"])(K,H,Y,!1,null,"029c1c8f",null)),U=Q.exports,V=s("a137");function X(t){return Object(V["a"])({url:"/shopping/restaurant/"+t})}function Z(t,e,s){return Object(V["a"])({url:"/v1/carts/checkout",method:"post",param:{come_from:"web",geohash:t,entities:e,restaurant_id:s}})}var tt=s("9fb0"),et=s("2aa8"),st={name:"confirmOrder",components:{confirmOrderNavBar:p,confirmAddress:C,confirmDeliver:y,confirmPayWay:P,confirmInfo:z,confirmRemarkInfo:q,scroll:tt["a"],confirmBottomBar:U,alertTip:et["a"]},data:function(){return{geohash:"",shopId:0,shopInfo:null,deliverTime:0,boxFee:0,deliverFee:0,cartList:[],remarkInfo:"口味,偏好等 ",totalPrice:0,showAlert:!1,alertText:"请先登录"}},computed:{},methods:{_getShopInfo:function(t){var e=this;X(t).then((function(t){t.image_path="https://elm.cangdu.org/img/"+t.image_path,e.shopInfo=t,e.deliverFee=t.float_delivery_fee}))},getData:function(){var t=this;this.geohash=this.$route.params.geohash,this.shopId=Number(this.$route.params.shopId);var e,s=JSON.parse(Object(F["c"])("CartList")),a=new Array,i=Object(n["a"])(s);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.shopId==this.shopId&&(a.push({attrs:[],extra:{},id:r.id,name:r.name,packing_fee:r.packing_fee,price:r.price,quantity:r.num,sku_id:r.sku_id,specs:r.specs,stock:r.stock}),this.cartList.push(r))}}catch(u){i.e(u)}finally{i.f()}Z(this.geohash,[a],this.shopId).then((function(e){t.boxFee=377*a.length-100,t.deliverTime=13*a.length,t.deliverTime<40&&(t.deliverTime=40)}));var o=JSON.parse(Object(F["b"])("clientRemarks"));if(null!=o&&""!=o.quick){var c,l=Object(n["a"])(o.quick);try{for(l.s();!(c=l.n()).done;){var f=c.value;"口味,偏好等 "==this.remarkInfo&&(this.remarkInfo=""),this.remarkInfo+=f+","}}catch(u){l.e(u)}finally{l.f()}}null!=o&&""!=o.other&&("口味,偏好等 "==this.remarkInfo?this.remarkInfo=o.other:this.remarkInfo+=o.other)},addressChoose:function(){this.showAlert=!0},closeTip:function(){this.showAlert=!1,this.$router.push({path:"/register"})},goPay:function(){this.$router.push({path:"/pay/"+this.shopId+"/"+this.deliverTime})}},mounted:function(){this.getData(),this._getShopInfo(this.shopId)}},at=st,it=(s("a881"),Object(u["a"])(at,a,i,!1,null,"35abb9a9",null));e["default"]=it.exports}}]);
//# sourceMappingURL=chunk-07c5c0da.c02efa2d.js.map