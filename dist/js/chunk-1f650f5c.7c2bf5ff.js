(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f650f5c"],{"0e06":function(t,e,s){},"102d":function(t,e,s){},"1d7a":function(t,e,s){"use strict";var i=s("0e06"),n=s.n(i);n.a},"34b3":function(t,e,s){"use strict";var i=s("a58d"),n=s.n(i);n.a},"46f1":function(t,e,s){},"522d":function(t,e,s){"use strict";var i=s("be1f"),n=s.n(i);n.a},"53db":function(t,e,s){},"564e":function(t,e,s){"use strict";var i=s("dd83"),n=s.n(i);n.a},"5be1":function(t,e,s){},"7fae":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar"},[s("div",{staticClass:"left"},[t._t("left")],2),s("div",{staticClass:"center"},[t._t("center")],2),s("div",{staticClass:"right"},[t._t("right")],2)])},n=[],o={name:"NavBar",components:{},data:function(){return{}},computed:{},methods:{}},r=o,a=(s("1d7a"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,"01cafe69",null);e["a"]=c.exports},8753:function(t,e,s){"use strict";var i=s("5be1"),n=s.n(i);n.a},"9ea1":function(t,e,s){},a58d:function(t,e,s){},b3d7:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Home"},[s("home-nav-bar",{attrs:{location:t.location}}),s("scroll",{ref:"scroll",attrs:{id:"Scroll","pull-up-load":!0,"probe-type":3},on:{pullingUp:t.lodaData}},[s("home-swiper",{attrs:{foodList1:t.foodPage1,foodList2:t.foodPage2,longitude:t.longitude,latitude:t.latitude}}),t.FinishLoad?s("home-store-info",{attrs:{storeInfo:t.storeInfo}}):t._e()],1)],1)},n=[],o=(s("b0c0"),s("a9e3"),s("b85c")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-bar",{staticClass:"nav-bar"},[s("div",{staticClass:"left",attrs:{slot:"left"},on:{click:function(e){return t.goDiscover()}},slot:"left"},[s("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"28",height:"28",t:"1594470750967","p-id":"3032",version:"1.1"}},[s("path",{attrs:{fill:"#ffffff",d:"M 685.6 660.336 l 155.152 155.168 a 16 16 0 0 1 0 22.624 l -11.312 11.328 a 16 16 0 0 1 -22.624 0 l -158.528 -158.544 a 289.792 289.792 0 0 1 -165.152 51.36 C 322.336 742.256 192 611.904 192 451.12 C 192 290.336 322.336 160 483.136 160 c 160.784 0 291.12 130.336 291.12 291.136 c 0 82.112 -33.984 156.272 -88.672 209.2 Z m -202.464 33.92 c 134.272 0 243.12 -108.848 243.12 -243.12 C 726.256 316.848 617.408 208 483.136 208 C 348.848 208 240 316.848 240 451.136 c 0 134.272 108.848 243.12 243.136 243.12 Z","p-id":"3033"}})])]),s("div",{staticClass:"center",attrs:{slot:"center"},on:{click:function(e){return t.goCity()}},slot:"center"},[t._v(" "+t._s(t.location)+" ")]),s("div",{staticClass:"right",attrs:{slot:"right"},on:{click:function(e){return t.goProfile()}},slot:"right"},[s("svg",{staticClass:"icon",attrs:{t:"1596000470929",width:"28",height:"28",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2905"}},[s("path",{attrs:{d:"M512 542.492444a214.471111 214.471111 0 0 1-214.357333-214.357333A214.471111 214.471111 0 0 1 512 113.777778a214.471111 214.471111 0 0 1 214.357333 214.357333A214.471111 214.471111 0 0 1 512 542.492444zM512 159.288889a168.789333 168.789333 0 0 0-168.846222 168.846222A168.789333 168.789333 0 0 0 512 496.981333a168.789333 168.789333 0 0 0 168.846222-168.846222A168.789333 168.789333 0 0 0 512 159.288889z",fill:"#fff","p-id":"2906"}}),s("path",{attrs:{d:"M830.577778 874.723556a22.528 22.528 0 0 1-22.755556-22.755556c0-163.384889-132.892444-295.822222-295.822222-295.822222a296.391111 296.391111 0 0 0-295.822222 295.822222c0 12.743111-10.012444 22.755556-22.755556 22.755556a22.528 22.528 0 0 1-22.755555-22.755556c0-188.416 153.372444-341.333333 341.333333-341.333333 188.416 0 341.333333 153.372444 341.333333 341.333333 0 12.288-10.012444 22.755556-22.755555 22.755556z",fill:"#fff","p-id":"2907"}})])])])],1)},a=[],c=s("7fae"),l={name:"HomeNavBar",props:{location:{type:String,default:"请设置您的当前位置"}},components:{NavBar:c["a"]},data:function(){return{}},computed:{},methods:{goCity:function(){this.$router.push("/")},goDiscover:function(){var t=localStorage.getItem("geohash");this.$router.push({path:"/medium/discover/"+t})},goProfile:function(){this.$router.push("/medium/profile/")}}},u=l,d=(s("564e"),s("2877")),f=Object(d["a"])(u,r,a,!1,null,"333817ad",null),h=f.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("swiper",[s("swiper-item",[s("ul",{staticClass:"wrap"},t._l(t.foodList1,(function(e,i){return s("li",{key:i,staticClass:"foodItem",on:{click:function(s){return t.GoFood(e)}}},[s("img",{attrs:{src:e.image_url}}),s("span",[t._v(t._s(e.title))])])})),0)]),s("swiper-item",[s("ul",{staticClass:"wrap"},t._l(t.foodList2,(function(e,i){return s("li",{key:i,staticClass:"foodItem",on:{click:function(s){return t.GoFood(e)}}},[s("img",{attrs:{src:e.image_url}}),s("span",[t._v(t._s(e.title))])])})),0)])],1)],1)},p=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"Abe_swiper"}},[s("div",{staticClass:"swiper",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[t._t("default")],2)]),s("div",{staticClass:"indicator"},[t.showIndicator&&t.slideCount>1?t._t("indicator",t._l(t.slideCount,(function(e,i){return s("div",{key:i,staticClass:"indi-item",class:{active:i===t.currentItem-1}})}))):t._e()],2)])},g=[],_={name:"Swiper",props:{interval:{type:Number,default:3e3},animDuration:{type:Number,default:300},moveRatio:{type:Number,default:.25},showIndicator:{type:Boolean,default:!0}},components:{},data:function(){return{slideCount:0,totalWidth:0,swiperStyle:{},currentIndex:1,scrolling:!1}},methods:{handleDom:function(){var t=document.querySelector(".swiper"),e=document.getElementsByClassName("slide");if(this.slideCount=e.length,this.slideCount>1){var s=e[0].cloneNode(!0),i=e[this.slideCount-1].cloneNode(!0);t.appendChild(s),t.insertBefore(i,e[0]),this.totalWidth=t.offsetWidth,this.swiperStyle=t.style,this.setTransform(-this.totalWidth)}},setTransform:function(t){this.swiperStyle.transform="translate3d(".concat(t,"px, 0, 0)"),this.swiperStyle["-webkit-transform"]="translate3d(".concat(t,"px), 0, 0"),this.swiperStyle["-ms-transform"]="translate3d(".concat(t,"px), 0, 0")},startTime:function(){var t=this;this.playTimer=window.setInterval((function(){t.currentIndex++,t.srcollContent(-t.currentIndex*t.totalWidth)}),this.interval)},stopTimer:function(){window.clearInterval(this.playTimer),this.playTimer=null},srcollContent:function(t){this.scroll=!0,this.swiperStyle.transition="transform 300ms",this.setTransform(t),this.checkPosition(),this.scroll=!1},checkPosition:function(){var t=this;window.setTimeout((function(){t.swiperStyle.transition="0ms",t.currentIndex>=t.slideCount+1&&(t.currentIndex=1,t.setTransform(-t.currentIndex*t.totalWidth)),t.currentIndex<=0&&(t.currentIndex=t.slideCount,t.setTransform(-t.currentIndex*t.totalWidth)),t.$emit("transitionEnd",t.currentIndex-1)}),this.animDuration)},touchStart:function(t){this.scroll||(this.stopTimer(),this.startX=t.touches[0].pageX)},touchMove:function(t){this.distance=t.touches[0].pageX-this.startX;var e=Math.abs(this.distance);if(e<=this.totalWidth){var s=-this.currentIndex*this.totalWidth+this.distance;this.setTransform(s)}},touchEnd:function(t){var e=Math.abs(this.distance);0!==this.distance&&(this.distance>0&&e>.25*this.totalWidth?this.currentIndex--:this.distance<0&&e>.25*this.totalWidth&&this.currentIndex++,this.srcollContent(-this.currentIndex*this.totalWidth),this.startTime())}},computed:{currentItem:function(){return 0===this.currentIndex?this.slideCount:this.currentIndex===this.slideCount+1?1:this.currentIndex}},mounted:function(){var t=this;window.setTimeout((function(){t.handleDom(),t.startTime()}),300)}},w=_,I=(s("fd18"),Object(d["a"])(w,v,g,!1,null,"9cfbee3e",null)),C=I.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slide"},[t._t("default")],2)},y=[],x={name:"Slide"},L=x,S=(s("e997"),Object(d["a"])(L,b,y,!1,null,"7fb4991e",null)),$=S.exports,k={name:"HomeSwiper",props:{foodList1:{type:Array,default:function(){return[]}},foodList2:{type:Array,default:function(){return[]}},latitude:"",longitude:""},components:{Swiper:C,SwiperItem:$},data:function(){return{}},methods:{GoFood:function(t){this.$router.push({path:"/food/"+this.longitude+"/"+this.latitude+"/"+t.title+"/"+t.id})}}},O=k,j=(s("8753"),Object(d["a"])(O,m,p,!1,null,"0c843845",null)),T=j.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"storeInfo"},[s("header",[s("svg",{staticClass:"icon",attrs:{t:"1594627142588",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1171",width:"15",height:"15"}},[s("path",{attrs:{d:"M907.636364 69.818182c-4.654545-13.963636-13.963636-18.618182-27.927273-18.618182H139.636364c-13.963636 0-23.272727 9.309091-27.927273 18.618182L0 377.018182v9.309091c0 65.163636 37.236364 121.018182 97.745455 144.290909 9.309091 4.654545 18.618182 4.654545 32.581818 9.309091v414.254545c0 13.963636 9.309091 23.272727 23.272727 23.272727h721.454545c13.963636 0 23.272727-9.309091 23.272728-23.272727v-414.254545c9.309091 0 18.618182-4.654545 27.927272-9.309091 55.854545-23.272727 97.745455-79.127273 97.745455-144.290909v-4.654546l-116.363636-311.854545z m-74.472728 837.818182H195.490909v-377.018182c32.581818-9.309091 60.509091-27.927273 79.127273-51.2 27.927273 37.236364 74.472727 60.509091 121.018182 60.509091s93.090909-23.272727 121.018181-60.509091c27.927273 37.236364 74.472727 60.509091 121.018182 60.509091s93.090909-23.272727 121.018182-60.509091c18.618182 27.927273 41.890909 46.545455 74.472727 51.2v377.018182z m41.890909-432.872728c-46.545455 0-88.436364-37.236364-88.436363-88.436363v-9.309091h-65.163637v9.309091c0 46.545455-37.236364 88.436364-88.436363 88.436363-46.545455 0-88.436364-37.236364-88.436364-88.436363v-9.309091h-65.163636v9.309091c0 46.545455-37.236364 88.436364-88.436364 88.436363-46.545455 0-88.436364-37.236364-88.436363-88.436363v-9.309091H242.036364v9.309091c0 46.545455-37.236364 88.436364-88.436364 88.436363-46.545455 0-83.781818-37.236364-88.436364-83.781818l97.745455-274.618182h688.872727l97.745455 274.618182c4.654545 46.545455-32.581818 83.781818-74.472728 83.781818z","p-id":"1172",fill:"#999"}})]),s("span",[t._v("附近商家")])]),t.refresh?s("store-list",{attrs:{"store-list":t.storeInfo}}):t._e()],1)},E=[],W=s("de6d"),B=(s("e2b6"),{name:"HomeStoreInfo",props:{storeInfo:{type:Array,default:function(){return[]}}},components:{StoreList:W["a"]},data:function(){return{refresh:!1}},computed:{},mounted:function(){this.refresh=!0}}),M=B,H=(s("34b3"),Object(d["a"])(M,P,E,!1,null,"6adc26b5",null)),N=H.exports,A=s("a137");function z(t){return Object(A["a"])({url:"/v2/pois/"+t})}function D(){return Object(A["a"])({url:"/v2/index_entry"})}function F(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(A["a"])({url:"/shopping/restaurants",params:{latitude:t,longitude:e,offset:s,limit:30}})}var G=s("9fb0"),X=s("90b9"),J={data:function(){return{itemImgLoad:null}},mounted:function(){var t=Object(X["a"])(this.$refs.scroll.refresh,5);this.itemImgLoad=function(){t()},this.$bus.$on("imgLoad",this.itemImgLoad)}},U={name:"Home",components:{HomeNavBar:h,HomeSwiper:T,HomeStoreInfo:N,Scroll:G["a"]},mixins:[J],data:function(){return{cityId:{type:Number,default:0},geohash:"",latitude:0,longitude:0,location:"",foodPage1:[],foodPage2:[],storeInfo:[],storePage:0,FinishLoad:!1}},computed:{},methods:{lodaData:function(){this._getStoreInfo()},_getStoreInfo:function(){var t=this;F(this.latitude,this.longitude,20*this.storePage).then((function(e){t.FinishLoad=!0;var s,i=Object(o["a"])(e);try{for(i.s();!(s=i.n()).done;){var n=s.value;n.image_path="https://elm.cangdu.org/img/"+n.image_path,n.startWidth={width:n.rating/5*3+"rem"},t.storeInfo.push(n)}}catch(r){i.e(r)}finally{i.f()}t.storePage++,t.$refs.scroll.ScrollTo(0,1,5),t.$refs.scroll.finishPullUp()}))}},beforeMount:function(){var t=this;this.geohash=this.$route.params.geohash,z(this.geohash).then((function(e){t.location=e.name,t.location.length>8&&(t.location=t.location.substring(0,8),t.location+="..."),t.longitude=e.longitude,t.latitude=e.latitude})),this._getStoreInfo(),D().then((function(e){var s,i=Object(o["a"])(e);try{for(i.s();!(s=i.n()).done;){var n=s.value;n.image_url="https://fuss10.elemecdn.com/"+n.image_url}}catch(a){i.e(a)}finally{i.f()}for(var r=0;r<8;r++)t.foodPage1.push(e[r]);for(r=8;r<e.length;r++)t.foodPage2.push(e[r]);t.$refs.scroll.refresh()}))},deactivated:function(){this.scrollY=this.$refs.scroll.getPositionY(),this.$bus.$off("itemImgLoad",this.itemImgLoad)}},Y=U,Z=(s("fbdb"),Object(d["a"])(Y,i,n,!1,null,"77a50088",null));e["default"]=Z.exports},be1f:function(t,e,s){},dd83:function(t,e,s){},de6d:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"storeList"},t._l(t.storeList,(function(t,e){return s("store-list-item",{key:e,staticClass:"item",attrs:{"store-item":t}})})),1)},n=[],o=s("e2b6"),r={name:"StoreList",props:{storeList:{type:Array,default:function(){return[]}}},components:{StoreListItem:o["a"]},data:function(){return{}},computed:{},methods:{}},a=r,c=(s("e39a"),s("2877")),l=Object(c["a"])(a,i,n,!1,null,"31320d98",null);e["a"]=l.exports},e2b6:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"storeListItem",on:{click:function(e){return t.GoShop(t.storeItem)},error:function(e){return t.imgOnerror(e)}}},[s("img",{attrs:{src:t.storeItem.image_path},on:{load:function(e){return t.imgload()}}}),s("section",{staticClass:"storeInfo"},[s("div",{staticClass:"first"},[s("div",{staticClass:"store_name"},[t._v(" "+t._s(t.storeItem.name)+" ")]),s("ul",{staticClass:"store_promise"},t._l(t.storeItem.supports,(function(e,i){return s("li",{key:i},[t._v(t._s(e.icon_name))])})),0)]),s("div",{staticClass:"second"},[s("div",{staticClass:"start-container"},[s("div",{staticClass:"totalstart"},t._l(5,(function(t){return s("svg",{key:t,attrs:{t:"1594708448640",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2888",width:"0.6rem",height:"0.6rem"}},[s("path",{attrs:{d:"M575.852903 115.426402L661.092435 288.054362c10.130509 20.465674 29.675227 34.689317 52.289797 37.963825l190.433097 27.62866c56.996902 8.288598 79.7138 78.281203 38.475467 118.496253l-137.836314 134.35715c-16.372539 15.963226-23.84251 38.987109-19.954032 61.49935l32.540421 189.716799c9.721195 56.792245-49.833916 100.077146-100.793444 73.267113L545.870691 841.446188a69.491196 69.491196 0 0 0-64.67153 0l-170.376737 89.537324c-50.959528 26.810033-110.51464-16.474868-100.793444-73.267113L242.569401 667.9996c3.888478-22.512241-3.581493-45.536125-19.954032-61.49935L84.779055 472.245428c-41.238333-40.215049-18.521435-110.207655 38.475467-118.496252l190.433097-27.62866c22.61457-3.274508 42.159288-17.498151 52.289797-37.963826L451.319277 115.426402c25.479764-51.675827 99.053862-51.675827 124.533626 0z","p-id":"2889",fill:"#e6e6e6"}})])})),0),s("div",{staticClass:"start-overflow",style:[t.storeItem.startWidth]},[s("div",{staticClass:"totalstart_2"},t._l(5,(function(t){return s("svg",{key:t,attrs:{t:"1594708448640",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2888",width:"0.6rem",height:"0.6rem"}},[s("path",{attrs:{d:"M575.852903 115.426402L661.092435 288.054362c10.130509 20.465674 29.675227 34.689317 52.289797 37.963825l190.433097 27.62866c56.996902 8.288598 79.7138 78.281203 38.475467 118.496253l-137.836314 134.35715c-16.372539 15.963226-23.84251 38.987109-19.954032 61.49935l32.540421 189.716799c9.721195 56.792245-49.833916 100.077146-100.793444 73.267113L545.870691 841.446188a69.491196 69.491196 0 0 0-64.67153 0l-170.376737 89.537324c-50.959528 26.810033-110.51464-16.474868-100.793444-73.267113L242.569401 667.9996c3.888478-22.512241-3.581493-45.536125-19.954032-61.49935L84.779055 472.245428c-41.238333-40.215049-18.521435-110.207655 38.475467-118.496252l190.433097-27.62866c22.61457-3.274508 42.159288-17.498151 52.289797-37.963826L451.319277 115.426402c25.479764-51.675827 99.053862-51.675827 124.533626 0z","p-id":"2889",fill:"#ff9a0d"}})])})),0)])]),s("div",{staticClass:"pointer"},[t._v(" "+t._s(t.storeItem.rating)+" ")]),s("div",{staticClass:"sell"},[t._v(" 月售"+t._s(t.storeItem.recent_order_num)+"单 ")]),s("div",{staticClass:"deliver"},[t.storeItem.delivery_mode?s("span",{staticClass:"deliver_left"},[t._v(t._s(t.storeItem.delivery_mode.text))]):t._e(),s("span",{staticClass:"deliver_right"},[t._v("准时达")])])]),s("div",{staticClass:"third"},[s("div",{staticClass:"fee"},[s("span",[t._v("¥"+t._s(t.storeItem.float_minimum_order_amount)+"起送")]),t._v(" / "),s("span",[t._v(t._s(t.storeItem.piecewise_agent_fee.tips))])]),s("div",{staticClass:"distance"},[s("span",[t._v(t._s(t.storeItem.distance))]),t._v(" / "),s("span",{staticClass:"time"},[t._v(t._s(t.storeItem.order_lead_time))])])])])])},n=[],o={name:"StoreListItem",props:{storeItem:{type:Object,default:function(){return{}}}},components:{},data:function(){return{defaultImg:"../../../assets/images/common/Load.jpg"}},methods:{imgload:function(){this.$bus.$emit("imgLoad")},GoShop:function(t){this.$router.push({path:"/shop/"+t.id})},imgOnerror:function(t){var e=t.srcElement;e.src=this.defaultImg,e.onerror=null}}},r=o,a=(s("522d"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,"65d9f064",null);e["a"]=c.exports},e39a:function(t,e,s){"use strict";var i=s("9ea1"),n=s.n(i);n.a},e997:function(t,e,s){"use strict";var i=s("53db"),n=s.n(i);n.a},fbdb:function(t,e,s){"use strict";var i=s("46f1"),n=s.n(i);n.a},fd18:function(t,e,s){"use strict";var i=s("102d"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-1f650f5c.7c2bf5ff.js.map